<!-- server/views/user.ejs -->
<section class="container">
  <h1><%= currentUser.name || currentUser.email || 'Your' %> profile</h1>
  <p class="time">Your starred trips</p>

  <% if (!starredRepos || !starredRepos.length) { %>
    <div class="card">
      <p class="time">No starred trips yet.</p>
    </div>
  <% } else { %>
    <div class="gallery-grid">
      <% starredRepos.forEach(r => { %>
        <div class="card">
          <h2 style="margin:0 0 4px"><%= r.title %></h2>
          <p class="time">
            Owner:
            <%= r.owner_name || r.owner_email || 'anonymous' %>
            â€¢ created <%= r.created_at %>
          </p>
          <p class="time">
            <i class="fa-solid fa-star" aria-hidden="true" style="color:#f59e0b"></i>
            <%= Number(r.star_count || 0) %> stars
          </p>
          <p class="time">
            Visibility: <%= r.visibility %>
          </p>
          <a class="btn btn-primary" href="/ui/repos/<%= r.id %>">
            Open trip
          </a>
        </div>
      <% }); %>
    </div>
  <% } %>
</section>
